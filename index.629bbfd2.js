!function(){let e,t=1,r=[];const s=document.querySelector(".categories");s.innerHTML='<div class="loader"></div>';let o=`https://energyflow.b.goit.study/api/exercises?limit=12&page=${t}`;!function(){const e=document.querySelector("header > button"),t=document.querySelector(".menu");e.addEventListener("click",(r=>{var s,o;r.preventDefault(),document.querySelector(".title").style.color=`${s=document.querySelector(".title").style.color,console.log(s),"rgb(0, 0, 0)"==s?"white":"white"==s?"black":"black"==s?"white":void 0}`,t.style.transform=`translateY(${o=t.style.transform.slice(-4,-3),1==o?"0%":"("==o?"-110%":void 0})`,e.classList.toggle("burger"),e.classList.toggle("cross"),e.innerHTML=`${function(e){const t=e.split("#"),r=t[1].split('"');return"burger"==r[0]?`${t[0]}#cross"${r[1]}`:`${t[0]}#burger"${r[1]}`}(e.innerHTML)}`}))}(),async function(){localStorage.setItem("arr",JSON.stringify([]));const n=document.querySelector(".searchbar svg");async function i(){await fetch(`https://energyflow.b.goit.study/api/filters?filter=Muscles&page=${t}&limit=12`).then((e=>e.json())).then((e=>{for(let t of e.results){const e=t.imgUrl;s.insertAdjacentHTML("beforeend",`<li class="muscle-card" style='background: linear-gradient(0deg, rgba(16, 16, 16, 0.70) 0%, rgba(16, 16, 16, 0.70) 100%), url(${e}) lightgray -16.825px -9.156px / 128.765% 116.922% no-repeat;'>\n                    <h3>${t.name}</h3>\n                    <p>Muscles</p>\n                </li>`)}}));const r=document.querySelectorAll(".muscle-card");for(let n of r)n.addEventListener("click",(r=>{s.innerHTML='<div class="loader"></div>',t=1,o=`https://energyflow.b.goit.study/api/exercises?muscles=${r.currentTarget.querySelector("h3").textContent}&page=${t}&limit=12`,t=1,u=!1,e.classList.remove("active-filter"),document.querySelector(".filters").children[1].classList.add("active-filter"),e=document.querySelector(".filters").children[1],s.classList.remove("muscles"),s.classList.add("bodyParts"),document.querySelector(".searchbar").classList.remove("visibility"),l()}))}async function l(){await fetch(o).then((e=>e.json())).then((e=>{const t=[];if(0!=e.results.length)for(let r of e.results){t.push(r);const e=document.querySelector(".burger svg use").href.baseVal.split("#");s.insertAdjacentHTML("beforeend",`<div class="exercises-card">\n                <div class="top">\n                    <h3>WORKOUT</h3>\n                    <span>${r.rating}<svg><use href="${e[0]}#star"></use></svg></span>\n                    <p>Start<svg><use href="${e[0]}#arrow"></use></svg></p>\n                </div>\n                <p><span><svg><use href="${e[0]}#human"></use></svg></span>${r.name[0].toUpperCase()+r.name.slice(1)}</p>\n                <ul>\n                    <li>Burned calories: <b>${r.burnedCalories}/3 min</b></li>\n                    <li>Body part: <b>${r.bodyPart[0].toUpperCase()+r.bodyPart.slice(1)}</b></li>\n                    <li>Target: <b>${r.target[0].toUpperCase()+r.target.slice(1)}</b></li>\n                </ul>\n              </div>`)}else s.innerHTML='<p class="nothing">Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';document.querySelector(".loader").remove();const r=document.querySelectorAll(".exercises-card .top p");for(let e=0;e<r.length;e++)r[e].addEventListener("click",(()=>{const r=document.querySelector(".backdrop"),s=r.querySelector(".wrapper > span ul"),o=s.querySelectorAll("svg");for(let e=0;e<5;e++)o[e].classList.remove("rated");for(let r=0;r<Math.floor(t[e].rating);r++)o[r].classList.add("rated");r.classList.remove("visibility");JSON.parse(localStorage.getItem("arr")).find((r=>r._id==t[e]._id))?(r.querySelector(".favorite-button").textContent="Remove from favorites",r.querySelector(".favorite-button").addEventListener("click",(r=>{const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.splice(s.findIndex((r=>r._id==t[e]._id)),1),localStorage.setItem("arr",JSON.stringify(s));var o=r.currentTarget,n=o.cloneNode(!0);o.parentNode.replaceChild(n,o)}))):(r.querySelector(".favorite-button").textContent="Add to favorites",r.querySelector(".favorite-button").addEventListener("click",(r=>{const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.push(t[e]),localStorage.setItem("arr",JSON.stringify(s)),r.currentTarget.replaceWith(r.currentTarget.cloneNode(!0))}))),document.querySelector(".modal > svg").addEventListener("click",(()=>{r.classList.add("visibility")})),r.querySelector(".image").style=`background: linear-gradient(0deg, rgba(27, 27, 27, 0.20) 0%, rgba(27, 27, 27, 0.20) 100%), url(${t[e].gifUrl}) lightgray -7.072px -25.893px / 107.482% 121.729% no-repeat;`,r.querySelector("h3").textContent=`${t[e].name[0].toUpperCase()+t[e].name.slice(1)}`;const n=r.querySelectorAll(".info li b");n[0].textContent=`${t[e].target[0].toUpperCase()+t[e].target.slice(1)}`,n[1].textContent=`${t[e].bodyPart[0].toUpperCase()+t[e].bodyPart.slice(1)}`,n[2].textContent=`${t[e].equipment[0].toUpperCase()+t[e].equipment.slice(1)}`,n[3].textContent=`${t[e].popularity}`,n[4].textContent=`${t[e].burnedCalories}/3 mins`,r.querySelector(".description").textContent=`${t[e].description}`,r.querySelector(".wrapper > span").textContent=`${t[e].rating}`,r.querySelector(".wrapper > span").appendChild(s)}))}))}n.addEventListener("click",(async function(){document.querySelector(".pagination").style.display="none",document.querySelector(".filters").firstElementChild.style.pointerEvents="none",n.style.pointerEvents="none",s.innerHTML='<div class="loader"></div>';const e=document.querySelector(".searchbar input").value.toLocaleLowerCase().trim();if(t=1,""!=e){r=[];const t=[],s=[],o=[];await fetch("https://energyflow.b.goit.study/api/filters?filter=Muscles&page=1&limit=64").then((e=>e.json())).then((e=>{for(let t of e.results)s.push(t.name)})),await fetch("https://energyflow.b.goit.study/api/filters?filter=Body%20parts&page=1&limit=64").then((e=>e.json())).then((e=>{for(let r of e.results)t.push(r.name)})),await fetch("https://energyflow.b.goit.study/api/filters?filter=Equipment&page=1&limit=64").then((e=>e.json())).then((e=>{for(let t of e.results)o.push(t.name)}));const n=[],i=[],l=[];for(let t of s)t.includes(e)&&n.push(t);for(let r of t)r.includes(e)&&i.push(r);for(let t of o)t.includes(e)&&l.push(t);const a=[];for(let e of n)await fetch(`https://energyflow.b.goit.study/api/exercises?muscles=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.push(t._id),r.push(t)}));for(let e of i)await fetch(`https://energyflow.b.goit.study/api/exercises?bodyParts=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.includes(t._id)||(r.push(t),a.push(t._id))}));for(let e of l)await fetch(`https://energyflow.b.goit.study/api/exercises?equipment=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.includes(t._id)||(r.push(t),a.push(t._id))}));console.log(r),g(r)}else u=!1,o=`https://energyflow.b.goit.study/api/exercises?muscles=${e}&page=${t}&limit=12`,await l();document.querySelector(".filters").firstElementChild.style.pointerEvents="all",n.style.pointerEvents="all",document.querySelector(".pagination").style.display="flex",document.querySelector(".searchbar input").value=""})),document.querySelector(".filters").children[0].addEventListener("click",(async r=>{s.innerHTML='<div class="loader"></div>',d=2,t=1,document.querySelector(".active-page").textContent=t,e.classList.remove("active-filter"),r.target.classList.add("active-filter"),e=r.target,s.classList.remove("bodyParts"),s.classList.add("muscles"),document.querySelector(".searchbar").classList.add("visibility"),await i(),document.querySelector(".loader").remove()})),document.querySelector(".filters").children[1].addEventListener("click",(async r=>{s.innerHTML='<div class="loader"></div>',d=99,u=!1,t=1,document.querySelector(".active-page").textContent=t,e.classList.remove("active-filter"),r.target.classList.add("active-filter"),e=r.target,s.classList.remove("muscles"),s.classList.add("bodyParts"),document.querySelector(".searchbar").classList.remove("visibility"),o=`https://energyflow.b.goit.study/api/exercises?limit=12&page=${t}`,await l()})),e=document.querySelector(".filters").children[0],await i(),document.querySelector(".loader").remove();const a=document.querySelector(".pagination").children[0],c=document.querySelector(".pagination").children[2];a.addEventListener("click",(()=>{t--,t<1&&(t=1),document.querySelector(".active-page").textContent=t;const e=document.querySelector(".active-filter").textContent;if("Muscles"==e)s.innerHTML="",i();else if("Body parts"==e)if(s.innerHTML="",u)p--,p<1&&(p=1),g(r);else{const e=o.split("&");e[1]=`page=${t}`;const r=e.join("&");o=r,l()}})),c.addEventListener("click",(()=>{t++,t>d&&(t=d),document.querySelector(".active-page").textContent=t;const e=document.querySelector(".active-filter").textContent;if("Muscles"==e)s.innerHTML="",i();else if("Body parts"==e)if(s.innerHTML="",u)p++,p>d&&(p=d),g(r);else{const e=o.split("&");e[1]=`page=${t}`;const r=e.join("&");o=r,l()}}));let u,d=2,p=1;function g(e){u=!0;const t=[],r=Math.ceil(e.length/12);d=r;let o=12*p;if(o>e.length&&(o=e.length),s.innerHTML="",0!=e.length)for(let r=12*(p-1);r<o;r++){t.push(e[r]);const o=document.querySelector(".burger svg use").href.baseVal.split("#");s.insertAdjacentHTML("beforeend",`<div class="exercises-card">\n                <div class="top">\n                    <h3>WORKOUT</h3>\n                    <span>${e[r].rating}<svg><use href="${o[0]}#star"></use></svg></span>\n                    <p>Start<svg><use href="${o[0]}#arrow"></use></svg></p>\n                </div>\n                <p><span><svg><use href="${o[0]}#human"></use></svg></span>${e[r].name[0].toUpperCase()+e[r].name.slice(1)}</p>\n                <ul>\n                    <li>Burned calories: <b>${e[r].burnedCalories}/3 min</b></li>\n                    <li>Body part: <b>${e[r].bodyPart[0].toUpperCase()+e[r].bodyPart.slice(1)}</b></li>\n                    <li>Target: <b>${e[r].target[0].toUpperCase()+e[r].target.slice(1)}</b></li>\n                </ul>\n              </div>`)}else s.innerHTML='<p class="nothing">Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';const n=document.querySelectorAll(".exercises-card .top p");for(let e=0;e<n.length;e++)n[e].addEventListener("click",(()=>{const r=JSON.parse(localStorage.getItem("arr")),s=document.querySelector(".backdrop"),o=s.querySelector(".wrapper > span ul"),n=o.querySelectorAll("svg");for(let e=0;e<5;e++)n[e].classList.remove("rated");for(let r=0;r<Math.floor(t[e].rating);r++)n[r].classList.add("rated");s.classList.remove("visibility"),r.find((r=>r._id==t[e]._id))?(s.querySelector(".favorite-button").textContent="Remove from favorites",s.querySelector(".favorite-button").addEventListener("click",(r=>{const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.splice(s.findIndex((r=>r._id==t[e]._id)),1),localStorage.setItem("arr",JSON.stringify(s));var o=r.currentTarget,n=o.cloneNode(!0);o.parentNode.replaceChild(n,o)}))):(s.querySelector(".favorite-button").textContent="Add to favorites",s.querySelector(".favorite-button").addEventListener("click",(r=>{const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.push(t[e]),localStorage.setItem("arr",JSON.stringify(s)),r.currentTarget.replaceWith(r.currentTarget.cloneNode(!0))}))),document.querySelector(".modal > svg").addEventListener("click",(()=>{s.classList.add("visibility")})),s.querySelector(".image").style=`background: linear-gradient(0deg, rgba(27, 27, 27, 0.20) 0%, rgba(27, 27, 27, 0.20) 100%), url(${t[e].gifUrl}) lightgray -7.072px -25.893px / 107.482% 121.729% no-repeat;`,s.querySelector("h3").textContent=`${t[e].name[0].toUpperCase()+t[e].name.slice(1)}`;const i=s.querySelectorAll(".info li b");i[0].textContent=`${t[e].target[0].toUpperCase()+t[e].target.slice(1)}`,i[1].textContent=`${t[e].bodyPart[0].toUpperCase()+t[e].bodyPart.slice(1)}`,i[2].textContent=`${t[e].equipment[0].toUpperCase()+t[e].equipment.slice(1)}`,i[3].textContent=`${t[e].popularity}`,i[4].textContent=`${t[e].burnedCalories}/3 mins`,s.querySelector(".description").textContent=`${t[e].description}`,s.querySelector(".wrapper > span").textContent=`${t[e].rating}`,s.querySelector(".wrapper > span").appendChild(o)}))}}()}();
//# sourceMappingURL=index.629bbfd2.js.map
