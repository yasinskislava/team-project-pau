let e,t=1,r=[];const o=document.querySelector(".categories");o.innerHTML='<div class="loader"></div>';let s=`https://energyflow.b.goit.study/api/exercises?limit=12&page=${t}`;document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".button-registration-footer"),t=document.querySelector(".input-registration-footer");e.addEventListener("click",(function(){const e=t.value.trim();if(/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)){let t=JSON.parse(localStorage.getItem("emails"))||[];t.push(e),localStorage.setItem("emails",JSON.stringify(t)),alert("Ваш электронный адрес успешно сохранен!"),console.log("Сохраненные email:",t)}else alert("Пожалуйста, введите действительный адрес электронной почты.")}))})),function(){const e=document.querySelector("header > button"),t=document.querySelector(".menu");e.addEventListener("click",(r=>{var o,s;r.preventDefault(),document.querySelector(".title").style.color=`${o=document.querySelector(".title").style.color,console.log(o),"rgb(0, 0, 0)"==o?"white":"white"==o?"black":"black"==o?"white":void 0}`,t.style.transform=`translateY(${s=t.style.transform.slice(-4,-3),1==s?"0%":"("==s?"-110%":void 0})`,e.classList.toggle("burger"),e.classList.toggle("cross"),e.innerHTML=`${function(e){const t=e.split("#"),r=t[1].split('"');return"burger"==r[0]?`${t[0]}#cross"${r[1]}`:`${t[0]}#burger"${r[1]}`}(e.innerHTML)}`}))}(),async function(){localStorage.setItem("arr",JSON.stringify([]));const n=document.querySelector(".searchbar svg");async function i(){await fetch(`https://energyflow.b.goit.study/api/filters?filter=Muscles&page=${t}&limit=12`).then((e=>e.json())).then((e=>{for(let t of e.results){const e=t.imgUrl;o.insertAdjacentHTML("beforeend",`<li class="muscle-card" style='background: linear-gradient(0deg, rgba(16, 16, 16, 0.70) 0%, rgba(16, 16, 16, 0.70) 100%), url(${e}) lightgray -16.825px -9.156px / 128.765% 116.922% no-repeat;'>\n                    <h3>${t.name}</h3>\n                    <p>Muscles</p>\n                </li>`)}}));const r=document.querySelectorAll(".muscle-card");for(let n of r)n.addEventListener("click",(r=>{o.innerHTML='<div class="loader"></div>',t=1,s=`https://energyflow.b.goit.study/api/exercises?muscles=${r.currentTarget.querySelector("h3").textContent}&page=${t}&limit=12`,t=1,u=!1,e.classList.remove("active-filter"),document.querySelector(".filters").children[1].classList.add("active-filter"),e=document.querySelector(".filters").children[1],o.classList.remove("muscles"),o.classList.add("bodyParts"),document.querySelector(".searchbar").classList.remove("visibility"),l()}))}async function l(){await fetch(s).then((e=>e.json())).then((e=>{const t=[];if(0!=e.results.length)for(let r of e.results){t.push(r);const e=document.querySelector(".burger svg use").href.baseVal.split("#");o.insertAdjacentHTML("beforeend",`<div class="exercises-card">\n                <div class="top">\n                    <h3>WORKOUT</h3>\n                    <span>${r.rating}<svg><use href="${e[0]}#star"></use></svg></span>\n                    <p>Start<svg><use href="${e[0]}#arrow"></use></svg></p>\n                </div>\n                <p><span><svg><use href="${e[0]}#human"></use></svg></span>${r.name[0].toUpperCase()+r.name.slice(1)}</p>\n                <ul>\n                    <li>Burned calories: <b>${r.burnedCalories}/3 min</b></li>\n                    <li>Body part: <b>${r.bodyPart[0].toUpperCase()+r.bodyPart.slice(1)}</b></li>\n                    <li>Target: <b>${r.target[0].toUpperCase()+r.target.slice(1)}</b></li>\n                </ul>\n              </div>`)}else o.innerHTML='<p class="nothing">Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';document.querySelector(".loader").remove();const r=document.querySelectorAll(".exercises-card .top p");for(let e=0;e<r.length;e++)r[e].addEventListener("click",(()=>{const r=document.querySelector(".backdrop"),o=r.querySelector(".wrapper > span ul"),s=o.querySelectorAll("svg");for(let e=0;e<5;e++)s[e].classList.remove("rated");for(let r=0;r<Math.floor(t[e].rating);r++)s[r].classList.add("rated");r.classList.remove("visibility");const n=JSON.parse(localStorage.getItem("arr")),i=document.querySelector(".burger svg use").href.baseVal.split("#");n.find((r=>r._id==t[e]._id))?(r.querySelector(".favorite-button").textContent=r.querySelector(".favorite-button").textContent.replace("Add to","Remove from"),r.querySelector(".favorite-button").insertAdjacentHTML("beforeend",`<svg><use href="${i[0]}#heart"></use></svg>`),r.querySelector(".favorite-button svg").style.fill="#fff",r.querySelector(".favorite-button").addEventListener("click",(o=>{r.classList.add("visibility");const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.splice(s.findIndex((r=>r._id==t[e]._id)),1),localStorage.setItem("arr",JSON.stringify(s));var n=o.currentTarget,i=n.cloneNode(!0);n.parentNode.replaceChild(i,n)}))):(r.querySelector(".favorite-button").textContent=r.querySelector(".favorite-button").textContent.replace("Remove from","Add to"),r.querySelector(".favorite-button").insertAdjacentHTML("beforeend",`<svg><use href="${i[0]}#heart"></use></svg>`),r.querySelector(".favorite-button svg").style.fill="#0000",r.querySelector(".favorite-button").addEventListener("click",(o=>{r.classList.add("visibility");const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.push(t[e]),localStorage.setItem("arr",JSON.stringify(s)),o.currentTarget.replaceWith(o.currentTarget.cloneNode(!0))}))),document.querySelector(".modal > svg").addEventListener("click",(()=>{r.classList.add("visibility")})),r.querySelector(".image").style=`background: linear-gradient(0deg, rgba(27, 27, 27, 0.20) 0%, rgba(27, 27, 27, 0.20) 100%), url(${t[e].gifUrl}) lightgray -7.072px -25.893px / 107.482% 121.729% no-repeat;`,r.querySelector("h3").textContent=`${t[e].name[0].toUpperCase()+t[e].name.slice(1)}`;const l=r.querySelectorAll(".info li b");l[0].textContent=`${t[e].target[0].toUpperCase()+t[e].target.slice(1)}`,l[1].textContent=`${t[e].bodyPart[0].toUpperCase()+t[e].bodyPart.slice(1)}`,l[2].textContent=`${t[e].equipment[0].toUpperCase()+t[e].equipment.slice(1)}`,l[3].textContent=`${t[e].popularity}`,l[4].textContent=`${t[e].burnedCalories}/3 mins`,r.querySelector(".description").textContent=`${t[e].description}`,r.querySelector(".wrapper > span").textContent=`${t[e].rating}`,r.querySelector(".wrapper > span").appendChild(o)}))}))}n.addEventListener("click",(async function(){document.querySelector(".pagination").style.display="none",document.querySelector(".filters").firstElementChild.style.pointerEvents="none",n.style.pointerEvents="none",o.innerHTML='<div class="loader"></div>';const e=document.querySelector(".searchbar input").value.toLocaleLowerCase().trim();if(t=1,""!=e){r=[];const t=[],o=[],s=[];await fetch("https://energyflow.b.goit.study/api/filters?filter=Muscles&page=1&limit=64").then((e=>e.json())).then((e=>{for(let t of e.results)o.push(t.name)})),await fetch("https://energyflow.b.goit.study/api/filters?filter=Body%20parts&page=1&limit=64").then((e=>e.json())).then((e=>{for(let r of e.results)t.push(r.name)})),await fetch("https://energyflow.b.goit.study/api/filters?filter=Equipment&page=1&limit=64").then((e=>e.json())).then((e=>{for(let t of e.results)s.push(t.name)}));const n=[],i=[],l=[];for(let t of o)t.includes(e)&&n.push(t);for(let r of t)r.includes(e)&&i.push(r);for(let t of s)t.includes(e)&&l.push(t);const a=[];for(let e of n)await fetch(`https://energyflow.b.goit.study/api/exercises?muscles=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.push(t._id),r.push(t)}));for(let e of i)await fetch(`https://energyflow.b.goit.study/api/exercises?bodyParts=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.includes(t._id)||(r.push(t),a.push(t._id))}));for(let e of l)await fetch(`https://energyflow.b.goit.study/api/exercises?equipment=${e}&page=1&limit=1024`).then((e=>e.json())).then((e=>{for(let t of e.results)a.includes(t._id)||(r.push(t),a.push(t._id))}));console.log(r),g(r)}else u=!1,s=`https://energyflow.b.goit.study/api/exercises?muscles=${e}&page=${t}&limit=12`,await l();document.querySelector(".filters").firstElementChild.style.pointerEvents="all",n.style.pointerEvents="all",document.querySelector(".pagination").style.display="flex",document.querySelector(".searchbar input").value=""})),document.querySelector(".filters").children[0].addEventListener("click",(async r=>{o.innerHTML='<div class="loader"></div>',d=2,t=1,document.querySelector(".active-page").textContent=t,e.classList.remove("active-filter"),r.target.classList.add("active-filter"),e=r.target,o.classList.remove("bodyParts"),o.classList.add("muscles"),document.querySelector(".searchbar").classList.add("visibility"),await i(),document.querySelector(".loader").remove()})),document.querySelector(".filters").children[1].addEventListener("click",(async r=>{o.innerHTML='<div class="loader"></div>',d=99,u=!1,t=1,document.querySelector(".active-page").textContent=t,e.classList.remove("active-filter"),r.target.classList.add("active-filter"),e=r.target,o.classList.remove("muscles"),o.classList.add("bodyParts"),document.querySelector(".searchbar").classList.remove("visibility"),s=`https://energyflow.b.goit.study/api/exercises?limit=12&page=${t}`,await l()})),e=document.querySelector(".filters").children[0],await i(),document.querySelector(".loader").remove();const a=document.querySelector(".pagination").children[0],c=document.querySelector(".pagination").children[2];a.addEventListener("click",(()=>{t--,t<1&&(t=1),document.querySelector(".active-page").textContent=t;const e=document.querySelector(".active-filter").textContent;if("Muscles"==e)o.innerHTML="",i();else if("Body parts"==e)if(o.innerHTML="",u)p--,p<1&&(p=1),g(r);else{const e=s.split("&");e[1]=`page=${t}`;const r=e.join("&");s=r,l()}})),c.addEventListener("click",(()=>{t++,t>d&&(t=d),document.querySelector(".active-page").textContent=t;const e=document.querySelector(".active-filter").textContent;if("Muscles"==e)o.innerHTML="",i();else if("Body parts"==e)if(o.innerHTML="",u)p++,p>d&&(p=d),g(r);else{const e=s.split("&");e[1]=`page=${t}`;const r=e.join("&");s=r,l()}}));let u,d=2,p=1;function g(e){u=!0;const t=[],r=Math.ceil(e.length/12);d=r;let s=12*p;if(s>e.length&&(s=e.length),o.innerHTML="",0!=e.length)for(let r=12*(p-1);r<s;r++){t.push(e[r]);const s=document.querySelector(".burger svg use").href.baseVal.split("#");o.insertAdjacentHTML("beforeend",`<div class="exercises-card">\n                <div class="top">\n                    <h3>WORKOUT</h3>\n                    <span>${e[r].rating}<svg><use href="${s[0]}#star"></use></svg></span>\n                    <p>Start<svg><use href="${s[0]}#arrow"></use></svg></p>\n                </div>\n                <p><span><svg><use href="${s[0]}#human"></use></svg></span>${e[r].name[0].toUpperCase()+e[r].name.slice(1)}</p>\n                <ul>\n                    <li>Burned calories: <b>${e[r].burnedCalories}/3 min</b></li>\n                    <li>Body part: <b>${e[r].bodyPart[0].toUpperCase()+e[r].bodyPart.slice(1)}</b></li>\n                    <li>Target: <b>${e[r].target[0].toUpperCase()+e[r].target.slice(1)}</b></li>\n                </ul>\n              </div>`)}else o.innerHTML='<p class="nothing">Unfortunately, <span>no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>';const n=document.querySelectorAll(".exercises-card .top p");for(let e=0;e<n.length;e++)n[e].addEventListener("click",(()=>{const r=JSON.parse(localStorage.getItem("arr")),o=document.querySelector(".backdrop"),s=o.querySelector(".wrapper > span ul"),n=s.querySelectorAll("svg");for(let e=0;e<5;e++)n[e].classList.remove("rated");for(let r=0;r<Math.floor(t[e].rating);r++)n[r].classList.add("rated");o.classList.remove("visibility"),r.find((r=>r._id==t[e]._id))?(o.querySelector(".favorite-button").textContent=o.querySelector(".favorite-button").textContent.replace("Add to","Remove from"),o.querySelector(".favorite-button").insertAdjacentHTML("beforeend",`<svg><use href="${svg[0]}#heart"></use></svg>`),o.querySelector(".favorite-button svg").style.fill="#fff",o.querySelector(".favorite-button").addEventListener("click",(r=>{o.classList.add("visibility");const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.splice(s.findIndex((r=>r._id==t[e]._id)),1),localStorage.setItem("arr",JSON.stringify(s)),r.currentTarget.replaceWith(r.currentTarget.cloneNode(!0))}))):(o.querySelector(".favorite-button").textContent=o.querySelector(".favorite-button").textContent.replace("Remove from","Add to"),o.querySelector(".favorite-button").insertAdjacentHTML("beforeend",`<svg><use href="${svg[0]}#heart"></use></svg>`),o.querySelector(".favorite-button svg").style.fill="#0000",o.querySelector(".favorite-button").addEventListener("click",(r=>{o.classList.add("visibility");const s=JSON.parse(localStorage.getItem("arr"));console.log(s),s.push(t[e]),localStorage.setItem("arr",JSON.stringify(s)),r.currentTarget.replaceWith(r.currentTarget.cloneNode(!0))}))),document.querySelector(".modal > svg").addEventListener("click",(()=>{o.classList.add("visibility")})),o.querySelector(".image").style=`background: linear-gradient(0deg, rgba(27, 27, 27, 0.20) 0%, rgba(27, 27, 27, 0.20) 100%), url(${t[e].gifUrl}) lightgray -7.072px -25.893px / 107.482% 121.729% no-repeat;`,o.querySelector("h3").textContent=`${t[e].name[0].toUpperCase()+t[e].name.slice(1)}`;const i=o.querySelectorAll(".info li b");i[0].textContent=`${t[e].target[0].toUpperCase()+t[e].target.slice(1)}`,i[1].textContent=`${t[e].bodyPart[0].toUpperCase()+t[e].bodyPart.slice(1)}`,i[2].textContent=`${t[e].equipment[0].toUpperCase()+t[e].equipment.slice(1)}`,i[3].textContent=`${t[e].popularity}`,i[4].textContent=`${t[e].burnedCalories}/3 mins`,o.querySelector(".description").textContent=`${t[e].description}`,o.querySelector(".wrapper > span").textContent=`${t[e].rating}`,o.querySelector(".wrapper > span").appendChild(s)}))}}();
//# sourceMappingURL=index.c31e6037.js.map
